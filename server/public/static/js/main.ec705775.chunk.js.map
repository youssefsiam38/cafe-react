{"version":3,"sources":["keys.js","components/Home/Title.js","queries/queries.js","components/Home/Card.js","components/Loading.js","components/Home/DisplayMenu.js","components/Home/Home.js","components/Header/Header.js","components/MenuItem/MenuItem.js","components/Edit/Edit.js","components/Add/Add.js","App.js","index.js"],"names":["module","exports","GRAPHQL_URL","IMAGE_UPLOAD_ROUTE","Title","history","useHistory","className","style","color","onClick","push","gql","require","getMenuItemsQuery","getMenuItemQuery","addMenuItemMutation","editMenuItemMutation","deleteMenuItemMutation","compose","graphql","name","props","id","src","photoURL","alt","type","toUpperCase","price","e","window","event","cancelBubble","stopPropagation","variables","then","res","reRender","data","deleteMenuItem","catch","alert","Loading","useState","menuItemsState","setMenuItemsState","useEffect","loading","refetch","menuItems","reRenderedItems","filter","mi","map","menuItem","key","Home","Header","letterSpacing","location","pathname","options","match","params","borderColor","height","data-testid","description","MI_ID","split","console","log","state","setState","onSubmit","preventDefault","itemID","inputFile","document","getElementById","fd","FormData","append","files","fetch","body","method","uploadPhoto","imgRes","status","editMenuItem","htmlFor","value","required","onChange","target","addMenuItem","client","ApolloClient","uri","keys","App","exact","path","component","Add","MenuItem","ReactDOM","render"],"mappings":"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","file":"static/js/main.ec705775.chunk.js","sourcesContent":["module.exports = {\n    GRAPHQL_URL: 'http://localhost:3000/graphql',\n    IMAGE_UPLOAD_ROUTE: 'http://localhost:3000/image'\n}","import React from 'react';\nimport { useHistory } from 'react-router-dom'\n\nconst Title = () => {\n    const history = useHistory()\n\n    return (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 place-items-stretch place-content-center my-8\" >\n            <h2 className=\"text-3xl place-self-center md:place-self-start my-auto\" style={{color: '#43425D'}} >Menu</h2>\n            <button \n            className=\" place-self-end hidden md:block rounded-md h-12 my-4 w-1/2 text-white bg-blue-500 hover:bg-blue-600\"\n            onClick={() => {\n                history.push('/add')\n            }}\n            >Add menu item</button>\n        </div>\n    )\n}\n\nexport default Title;","const { gql } = require('apollo-boost'); // to make GraphQL queries\n\nconst getMenuItemsQuery = gql`\n    query {\n        menuItems{\n            id\n            name\n            type\n            price\n            photoURL\n        }\n    }\n`\n\n// query for getting ONE book\nconst getMenuItemQuery = gql`\n    query($id: ID){\n        menuItem(id: $id){\n            id\n            name\n            type\n            price\n            description\n            photoURL\n        }\n    }\n`\n\n// mutation($variable) << allows variables to be passed to the mutation\nconst addMenuItemMutation = gql`\n  mutation($name: String!, $type: String!, $price: String!, $description: String!, $photoURL: String!) {\n    addMenuItem(name: $name, type: $type, price: $price, description: $description, photoURL: $photoURL){\n      name\n      id\n    }\n  }\n`\nconst editMenuItemMutation = gql`\n  mutation($id: ID!, $name: String!, $type: String!, $price: String!, $description: String!, $photoURL: String!) {\n    editMenuItem(id: $id, name: $name, type: $type, price: $price, description: $description, photoURL: $photoURL){\n      id\n      name\n      type\n      price\n      description\n      photoURL\n    }\n  }\n`\nconst deleteMenuItemMutation = gql`\n  mutation($id: ID!) {\n    deleteMenuItem(id: $id){\n      id\n    }\n  }\n`\n\nexport { getMenuItemsQuery, getMenuItemQuery, addMenuItemMutation, editMenuItemMutation, deleteMenuItemMutation };","import React from 'react';\nimport { useHistory } from 'react-router-dom'\nimport { graphql, compose } from \"react-apollo\";\nimport {deleteMenuItemMutation} from '../../queries/queries.js'\n\nconst Card = (props) => {\n    const history = useHistory()\n\n    const gotoEdit = (e) => {\n        if (!e) e = window.event;\n        e.cancelBubble = true;\n        if (e.stopPropagation) e.stopPropagation();\n        history.push(`/edit/${props.id}`);\n    }\n    const deleteHandler = (e) => {\n        if (!e) e = window.event;\n        e.cancelBubble = true;\n        if (e.stopPropagation) e.stopPropagation();\n        props.deleteMenuItemMutation({\n            variables: {\n              id: props.id\n        } }).then((res) => {\n            // renrender the DisplayMenu component after deletion\n            props.reRender(res.data.deleteMenuItem.id);\n        }).catch((e) => {\n            alert('somthing went wrong with deletion')\n        })\n\n        // props.reRender();\n\n    }\n    const gotoMenuItem = () => {\n        history.push(`/${props.id}`);\n    }\n    return (\n        <div className=\"max-w-sm rounded overflow-hidden shadow-lg bg-white hover:bg-gray-200 cursor-pointer\" onClick={gotoMenuItem}>\n            <img className=\"w-full h-64\" src={props.photoURL} alt=\"Sunset in the mountains\"/>\n            <div className=\"px-6 py-4\" style={{color: \"#888A94\"}} >\n                <p className=\"text-gray-700 text-base inline-block cursor-text\" style={{color: \"#888A94\"}} >{props.type.toUpperCase()}</p>\n                <br/>\n                <span className=\"float-right text-lg font-bold cursor-text \" >${props.price}</span>\n                <div className=\"font-bold text-2xl mb-2 inline-block cursor-text\" style={{color: '#43425D'}}>{props.name}</div>\n                <div className=\"grid grid-cols-2 place-items-stretch gap-6\" >\n                    <button className=\"bg-green-400 hover:bg-green-600 rounded-md text-white h-8\" onClick={gotoEdit}>Edit</button>\n                    <button className=\"bg-red-600 hover:bg-red-700 rounded-md text-white h-8\" onClick={deleteHandler} >Delete</button>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default compose(\n    graphql(deleteMenuItemMutation, {name: \"deleteMenuItemMutation\"})\n  )(Card);","import React from 'react';\n\nconst Loading = () => {\n    return (\n        <div className=\"text-4xl text-center\" >Loading..</div>\n    )\n}\n\nexport default Loading","import React, {useState, useEffect} from 'react'\nimport { graphql } from \"react-apollo\";\nimport { useHistory } from 'react-router-dom'\nimport { getMenuItemsQuery } from '../../queries/queries.js'\nimport Card from './Card.js'\nimport Loading from '../Loading.js'\n\nconst DisplayMenu = (props) => {\n    const history = useHistory();\n    const [menuItemsState, setMenuItemsState] = useState([])\n\n\n    useEffect(() => {\n\n        if (!props.data.loading) {\n            // if (history.location.search.includes('deleted=')) {\n                props.data.refetch()\n            // }\n            setMenuItemsState(props.data.menuItems)\n        }\n    }, [props])\n\n\n    if (props.data.loading) {\n        return (<Loading/>)\n    }\n\n    const reRender = (id) => {\n\n        let reRenderedItems = menuItemsState.filter((mi) => mi.id != id)\n        \n        setMenuItemsState(reRenderedItems)\n    }\n\n    return (\n        <div className=\" place-items-center md:place-items-stretch grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 \">\n            {menuItemsState.map((menuItem) => {\n                return (<Card key={menuItem.id} id={menuItem.id} name={menuItem.name} price={menuItem.price} type={menuItem.type} photoURL={menuItem.photoURL} reRender={reRender} />)\n            })}\n        </div>\n    )\n};\n\nexport default graphql(getMenuItemsQuery)(DisplayMenu);","import React from 'react';\nimport Title from './Title.js';\nimport DisplayMenu from './DisplayMenu.js'\n\n\nconst Home = (props) => {\n    return (\n        <div className=\" container mx-auto\" >\n            <Title/>\n            <DisplayMenu />\n        </div>\n    )\n};\n\nexport default Home","import React from 'react'\nimport { useHistory } from 'react-router-dom'\n\nconst Header = (props) => {\n    const history = useHistory()\n\n    let gotoHome = (e) => {\n        history.push(\"/\");\n    }\n    return (\n        <header className=\" w-full bg-white h-16 shadow-lg grid grid-cols-3 place-content-around place-items-stretch\" >\n            <p \n                className=\"font-bold grid grid-cols-1 place-content-center text-left  ml-4 font-sans text-center cursor-pointer\"\n                style={{color: '#43425D', letterSpacing: \"6px\"}}\n                onClick={gotoHome}\n            >\n                CAFE REACT\n            </p>\n            { window.location.pathname == '/' ?\n            (\n                <button\n                className=\"block md:hidden float-right rounded-md h-12 my-4 col-start-3 text-white mr-4 bg-blue-500 hover:bg-blue-600\"\n                onClick={(e) => {\n                    history.push(\"/add\");\n                }}\n                >Add menu item</button>\n            ) : ''\n            }\n        </header>\n    )\n}\n\nexport default Header","import React, {useEffect} from 'react';\nimport { graphql, compose } from \"react-apollo\";\nimport {getMenuItemQuery, deleteMenuItemMutation} from '../../queries/queries.js'\nimport Loading from '../Loading.js';\nimport { useHistory } from 'react-router-dom'\n\nconst MenuItem = (props) => {\n    const history = useHistory()\n    const MI_ID = props.match.params.id\n    const menuItem = props.data.menuItem\n\n    useEffect(() => {\n        props.data.refetch()\n    }, [])\n\n    if(props.data.loading) {\n        return (\n            <Loading/>\n        )\n    }\n\n\n    \n    const gotoEdit = (e) => {\n        if (!e) e = window.event;\n        e.cancelBubble = true;\n        if (e.stopPropagation) e.stopPropagation();\n        history.push(`/edit/${menuItem.id}`);\n    }\n    const deleteHandler = (e) => {\n        if (!e) e = window.event;\n        e.cancelBubble = true;\n        if (e.stopPropagation) e.stopPropagation();\n        props.deleteMenuItemMutation({\n            variables: {\n              id: menuItem.id\n        } }).then((res) => {\n            // redirect to the main menu\n            history.push('/?deleted=true');\n        }).catch((e) => {\n            alert('somthing went wrong with deletion')\n        })\n    }\n    return (\n        <div className=\"py-24 px-4 md:px-24 grid grid-cols-1 md:grid-cols-2\">\n            <img className=\"border-4 mx-auto\" style={{borderColor: \"#43425D\", height: 440}} src={menuItem.photoURL}/>\n            <div>\n            <div className=\"px-6 py-4\" style={{color: \"#888A94\"}} >\n                <p className=\"text-gray-700 text-base inline-block cursor-text mb-8\" style={{color: \"#888A94\"}} >{menuItem.type.toUpperCase()}</p>\n                <br/>\n                <span className=\"float-right text-lg font-bold cursor-text \" >${menuItem.price}</span>\n                <div className=\"font-bold text-xl mb-8 inline-block cursor-text\" data-testid=\"itemName\" style={{color: '#43425D'}}>{menuItem.name}</div>\n                <br/>\n                <label>Description: </label>\n                <div id=\"desc\" className=\"my-auto mb-24\">\n                    <p className=\"mt-4\" style={{color: '#43425D'}} >{menuItem.description}</p>\n                </div>\n                <div className=\"grid grid-cols-2 place-items-stretch gap-6\" >\n                    <button className=\"bg-green-400 hover:bg-green-600 rounded-md text-white h-8\" data-testid=\"editBtn\" onClick={gotoEdit}>Edit</button>\n                    <button className=\"bg-red-600 hover:bg-red-700 rounded-md text-white h-8\" data-testid=\"deleteBtn\" onClick={deleteHandler} >Delete</button>\n                </div>\n            </div>\n            </div>\n        </div>\n    )\n}\n\nexport default compose(\n    graphql(getMenuItemQuery,  {\n        options: (props) => {\n        const MI_ID = props.match.params.id\n        return {\n            variables: {\n                id: MI_ID\n            }\n        }\n    }}),\n    graphql(deleteMenuItemMutation,  {\n        name: 'deleteMenuItemMutation'\n    })\n)(MenuItem)","import React, {useState, useEffect} from 'react';\nimport {getMenuItemQuery, editMenuItemMutation} from '../../queries/queries.js'\nimport { useHistory } from 'react-router-dom'\nimport { compose, graphql } from \"react-apollo\";\nimport {IMAGE_UPLOAD_ROUTE} from '../../keys.js'\nimport Loading from '../Loading.js';\n\n\n\nconst Edit = (props) => {\n    const history = useHistory()\n\n    const [state, setState] = useState({\n        name: '',\n        type: '',\n        price: '',\n        description: '',\n        photoURL: ''\n        })\n        \n    useEffect(() => {\n        if (!props.getMenuItemQuery.loading) {\n            setState({\n                name: props.getMenuItemQuery.menuItem.name,\n                type: props.getMenuItemQuery.menuItem.type,\n                price: props.getMenuItemQuery.menuItem.price,\n                description: props.getMenuItemQuery.menuItem.description,\n                photoURL: props.getMenuItemQuery.menuItem.photoURL\n            })\n        }\n    }, [props])\n\n    useEffect(()=> {\n        console.log(state)\n    }, [state])\n\n\n    if (props.getMenuItemQuery.loading) {\n        return (\n            <Loading/>\n        )\n    }\n\n    const borderRed = () => {\n        return \" border border-red-500 \"\n    }\n\n    const uploadPhoto = (itemID) => {\n        const inputFile = document.getElementById('form-photo');\n        \n        const fd = new FormData();\n        fd.append('image', inputFile.files[0]);\n\n        return fetch(IMAGE_UPLOAD_ROUTE + `?id=${itemID}`, {\n            body: fd,\n            method: \"POST\"\n        })\n    }\n\n    const submitHandler = (e) => {\n        e.preventDefault()\n        props.editMenuItemMutation({\n            variables: {\n                id: props.getMenuItemQuery.menuItem.id,\n                name: state.name,\n                type: state.type,\n                price: state.price,\n                description: state.description,\n                photoURL: state.photoURL\n            }\n        }).then((res) => {\n            uploadPhoto(props.getMenuItemQuery.menuItem.id).then((imgRes) => {\n                if (imgRes.status == 200) {\n                    history.push(`/${res.data.editMenuItem.id}`)\n                }\n            })\n        }).catch((e) => {\n            console.log(e)\n        })\n        \n    }\n\n    return (\n        <div className=\"container mx-auto\">\n            <h2 className=\"text-center text-3xl py-12\" style={{color: '#43425D', letterSpacing: \"2px\"}}>Edit Menu Item</h2>\n            <div className=\"px-2\">\n                <form className=\"container grid rows-5 gap-5 w-full max-w-lg mx-auto pb-12\" id=\"form\" onSubmit={submitHandler} method=\"GET\">\n\n                    <div>\n                        <label className=\"inline-block w-1/3 mt-3\" htmlFor=\"form-type\" style={{color: '#43425D'}}>Type: </label>\n                        <select \n                        id=\"form-type\"\n                        className=\"inline-block border-2 rounded p-2 w-4/6 h-12 float-right\"\n                        style={{borderColor: '#AFB1BC'}}\n                        value={state.type}\n                        required\n                        onChange={(e) => {\n                            setState({...state, type: e.target.value})\n                        }}>\n                            <option value=\"Main Course\">Main Course</option>\n                            <option value=\"Hot Drink\" > Hot Drink</option>\n                            <option value=\"Cold Drink\">Cold Drink</option>\n                            <option value=\"appetizers\" >appetizers</option>\n                        </select>\n                    </div>\n                    <div>\n                        <label className=\"inline-block w-1/3 mt-3\" htmlFor=\"form-name\" style={{color: '#43425D'}}>Name: </label>\n                        <input id=\"form-name\"\n                        className=\"inline-block border-2 rounded p-2 w-4/6 h-12 float-right\"\n                        style={{borderColor: '#AFB1BC'}}\n                        value={state.name}\n                        required\n                        onChange={(e) => {\n                            setState({...state, name: e.target.value})\n                        }} />\n                    </div>\n                    <div>\n                        <label className=\"inline-block w-1/3 mt-3\" htmlFor=\"form-price\" style={{color: '#43425D'}}>Price: </label>\n                        <input id=\"form-price\"\n                        className=\"inline-block border-2 rounded p-2 w-4/6 h-12 float-right\"\n                        style={{borderColor: '#AFB1BC'}}\n                        type=\"number\"\n                        value={state.price}\n                        required\n                        onChange={(e) => {\n                            setState({...state, price: e.target.value})\n                        }} />\n                    </div>\n                    <div>\n                        <label className=\"inline-block w-1/3 mt-3\" htmlFor=\"form-desc\" style={{color: '#43425D'}}>Description: </label>\n                        <textarea id=\"form-desc\"\n                        className=\"h-40 inline-block border-2 rounded p-2 w-4/6 h-12 float-right\"\n                        style={{borderColor: '#AFB1BC'}}\n                        value={state.description}\n                        required\n                        onChange={(e) => {\n                            setState({...state, description: e.target.value})\n                        }} />\n                    </div>\n                    <div>\n                        <label className=\"inline-block w-1/3 mt-3\" htmlFor=\"form-photo\" style={{color: '#43425D'}}>Photo: </label>\n                        <input id=\"form-photo\"\n                        type=\"file\"\n                        className=\"inline-block p-2 w-4/6 h-12 float-right\"\n                        required\n                        />\n                    </div>\n                    <input \n                    className=\"w-full bg-blue-500 hover:bg-blue-600 h-12 rounded-md text-white\"\n                    type=\"submit\"\n                    value=\"Save Item\"\n                    />\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default compose(\n    graphql(getMenuItemQuery, {\n        options: () => {\n        const MI_ID = window.location.pathname.split('/')[2]\n        console.log(MI_ID)\n            return {\n                variables: {\n                    id: MI_ID\n                }\n            }\n        },\n        name: 'getMenuItemQuery'\n    }),\n    graphql(editMenuItemMutation, {\n        name: 'editMenuItemMutation'\n    })\n)(Edit);","import React, {useState, useEffect} from 'react';\nimport { addMenuItemMutation} from '../../queries/queries.js'\nimport { useHistory } from 'react-router-dom'\nimport {IMAGE_UPLOAD_ROUTE} from '../../keys.js'\nimport { graphql, compose } from \"react-apollo\";\n\n\n\nconst Add = (props) => {\n\n    const history= useHistory()\n\n    const [state, setState] = useState({\n        name: '',\n        type: 'Main Course',\n        price: '',\n        description: '',\n        photoURL: ''\n    })\n\n\n    const borderRed = () => {\n        return \" border border-red-500 \"\n    }\n\n    const uploadPhoto = (itemID) => {\n        const inputFile = document.getElementById('form-photo');\n        \n        const fd = new FormData();\n        fd.append('image', inputFile.files[0]);\n\n        return fetch(IMAGE_UPLOAD_ROUTE + `?id=${itemID}`, {\n            body: fd,\n            method: \"POST\"\n        })\n    }\n\n    const submitHandler = (e) => {\n        e.preventDefault()\n        props.addMenuItemMutation({\n            variables: {\n                name: state.name,\n                type: state.type,\n                price: state.price,\n                description: state.description,\n                photoURL: state.photoURL\n            }\n        }).then((res) => {\n            uploadPhoto(res.data.addMenuItem.id).then((imgRes) => {\n                if (imgRes.status == 200) {\n                    history.push(`/${res.data.addMenuItem.id}`)\n                }\n            })\n        }).catch((e) => {\n            console.log(e)\n        })\n    }\n\n    return (\n        <div className=\"container mx-auto\">\n            <h2 className=\"text-center text-3xl py-12\" style={{color: '#43425D', letterSpacing: \"2px\"}}>Add Menu Item</h2>\n            <div className=\"px-2\">\n                <form className=\"container grid rows-5 gap-5 w-full max-w-lg mx-auto pb-12\" onSubmit={submitHandler} method=\"GET\">\n                    <div>\n                        <label className=\"inline-block w-1/3 mt-3\" htmlFor=\"form-type\" style={{color: '#43425D'}}>Type: </label>\n                        <select \n                        id=\"form-type\"\n                        className=\"inline-block border-2 rounded p-2 w-4/6 h-12 float-right\"\n                        style={{borderColor: '#AFB1BC'}}\n                        value={state.type}\n                        required\n                        onChange={(e) => {\n                            setState({...state, type: e.target.value})\n                        }}>\n                            <option value=\"Main Course\">Main Course</option>\n                            <option value=\"Hot Drink\" > Hot Drink</option>\n                            <option value=\"Cold Drink\">Cold Drink</option>\n                            <option value=\"appetizers\" >appetizers</option>\n                        </select>\n                    </div>\n                    <div>\n                        <label className=\"inline-block w-1/3 mt-3\" htmlFor=\"form-name\" style={{color: '#43425D'}}>Name: </label>\n                        <input id=\"form-name\"\n                        className=\"inline-block border-2 rounded p-2 w-4/6 h-12 float-right\"\n                        style={{borderColor: '#AFB1BC'}}\n                        value={state.name}\n                        required\n                        data-testid=\"form-name\"\n                        onChange={(e) => {\n                            setState({...state, name: e.target.value})\n                        }} />\n                    </div>\n                    <div>\n                        <label className=\"inline-block w-1/3 mt-3\" htmlFor=\"form-price\" style={{color: '#43425D'}}>Price: </label>\n                        <input id=\"form-price\"\n                        className=\"inline-block border-2 rounded p-2 w-4/6 h-12 float-right\"\n                        style={{borderColor: '#AFB1BC'}}\n                        type=\"number\"\n                        value={state.price}\n                        required\n                        data-testid=\"form-price\"\n                        onChange={(e) => {\n                            setState({...state, price: e.target.value})\n                        }} />\n                    </div>\n                    <div>\n                        <label className=\"inline-block w-1/3 mt-3\" htmlFor=\"form-desc\" style={{color: '#43425D'}}>Description: </label>\n                        <textarea id=\"form-desc\"\n                        className=\"h-40 inline-block border-2 rounded p-2 w-4/6 h-12 float-right\"\n                        style={{borderColor: '#AFB1BC'}}\n                        value={state.description}\n                        required\n                        data-testid=\"form-desc\"\n                        onChange={(e) => {\n                            setState({...state, description: e.target.value})\n                        }} />\n                    </div>\n                    <div>\n                        <label className=\"inline-block w-1/3 mt-3\" htmlFor=\"form-photo\" style={{color: '#43425D'}}>Photo: </label>\n                        <input id=\"form-photo\"\n                        required\n                        data-testid=\"form-photo\"\n                        type=\"file\"\n                        className=\"inline-block p-2 w-4/6 h-12 float-right\"\n                        />\n                    </div>\n                    <input \n                    className=\"w-full bg-blue-500 hover:bg-blue-600 h-12 rounded-md text-white\"\n                    type=\"submit\"\n                    data-testid=\"form-submit\"\n                    value=\"Save Item\"\n                    />\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default compose(\n    graphql(addMenuItemMutation, {\n        name: 'addMenuItemMutation'\n    })\n)(Add);","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport ApolloClient from 'apollo-boost';\nimport { ApolloProvider } from \"react-apollo\";\nimport keys from './keys.js'\nimport Home from './components/Home/Home.js'\nimport Header from './components/Header/Header.js'\nimport MenuItem from './components/MenuItem/MenuItem.js'\nimport Edit from './components/Edit/Edit.js'\nimport Add from './components/Add/Add.js'\nimport './assets/main.css'\n\n\nconst client = new ApolloClient({\n  uri: keys.GRAPHQL_URL\n});\n\nfunction App() {\n  return (\n      <ApolloProvider client={client}>\n        <div className=\"bg-gray-300\">\n          <Router>\n          <Header/>\n            <Switch>\n              <Route exact path=\"/add\" component={Add}/>\n              <Route exact path=\"/\" component={Home}/>\n\n              <Route exact path=\"/:id\" component={MenuItem}></Route>\n              <Route exact path=\"/edit/:id\" component={() => <Edit />}></Route>\n\n            </Switch>\n          </Router>\n        </div>\n      </ApolloProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport './assets/main.css';\nimport App from \"./App\";\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}